{"version":3,"sources":["../../../source/redux/middleware/history middleware.js"],"names":["Redirect","GoTo","navigated_action","history_middleware","get_history","getState","dispatch","action","type","location","replace","push","next"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,IAAnB,EAAyBC,gBAAzB,QAAiD,YAAjD;;AAEA,eAAe,SAASC,kBAAT,CAA4BC,WAA5B,EACf;AACC,QAAO,gBACP;AAAA,MADUC,QACV,QADUA,QACV;AAAA,MADoBC,QACpB,QADoBA,QACpB;;AACC,SAAO;AAAA,UAAQ,kBACf;AACC;AACA,QAAIC,OAAOC,IAAP,KAAgBR,QAApB,EACA;AACCM,cAASJ,iBAAiBK,OAAOE,QAAxB,CAAT;AACA,YAAOL,cAAcM,OAAd,CAAsBH,OAAOE,QAA7B,CAAP;AACA;;AAED;AACA,QAAIF,OAAOC,IAAP,KAAgBP,IAApB,EACA;AACCK,cAASJ,iBAAiBK,OAAOE,QAAxB,CAAT;AACA,YAAOL,cAAcO,IAAd,CAAmBJ,OAAOE,QAA1B,CAAP;AACA;;AAED,WAAOG,KAAKL,MAAL,CAAP;AACA,IAjBM;AAAA,GAAP;AAkBA,EApBD;AAqBA","file":"history middleware.js","sourcesContent":["import { Redirect, GoTo, navigated_action } from '../actions'\n\nexport default function history_middleware(get_history)\n{\n\treturn ({ getState, dispatch }) =>\n\t{\n\t\treturn next => action =>\n\t\t{\n\t\t\t// After page preloading finished\n\t\t\tif (action.type === Redirect)\n\t\t\t{\n\t\t\t\tdispatch(navigated_action(action.location))\n\t\t\t\treturn get_history().replace(action.location)\n\t\t\t}\n\n\t\t\t// After page preloading finished\n\t\t\tif (action.type === GoTo)\n\t\t\t{\n\t\t\t\tdispatch(navigated_action(action.location))\n\t\t\t\treturn get_history().push(action.location)\n\t\t\t}\n\n\t\t\treturn next(action)\n\t\t}\n\t}\n}"]}
{"version":3,"sources":["../source/helpers.js"],"names":["exists","what","object_constructor","constructor","is_object","object","extend","objects","filter","x","length","to","from","last","pop","intermediary_result","apply","key","Array","isArray","concat","clone","merge","parameters","prototype","slice","call","arguments","unshift","map","convert_from_camel_case","test","lo_dashed_key","replace","match","group_1","toLowerCase","escape_regexp","string","specials","RegExp","replace_all","where","with_what","regexp","starts_with","substring","indexOf","ends_with","i","j","is_empty","array","not_empty","repeat","times","result","is_blank","text","zip","a","b","_","index","get_language_from_locale","locale","dash_index"],"mappings":"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","file":"helpers.js","sourcesContent":["// // if the variable is defined\nexport const exists = what => typeof what !== 'undefined'\n\n// used for JSON object type checking\nconst object_constructor = {}.constructor\n\n// detects a JSON object\nexport function is_object(object)\n{\n\treturn exists(object) && (object !== null) && object.constructor === object_constructor\n}\n\n// extends the first object with \n/* istanbul ignore next: some weird transpiled code, not testable */\nexport function extend(...objects)\n{\n\tobjects = objects.filter(x => exists(x))\n\n\tif (objects.length === 0)\n\t{\n\t\treturn\n\t}\n\t\n\tif (objects.length === 1)\n\t{\n\t\treturn objects[0]\n\t}\n\t\n\tconst to   = objects[0]\n\tconst from = objects[1]\n\n\tif (objects.length > 2)\n\t{\n\t\tconst last = objects.pop()\n\t\tconst intermediary_result = extend.apply(this, objects)\n\t\treturn extend(intermediary_result, last)\n\t}\n\n\tfor (let key of Object.keys(from))\n\t{\n\t\tif (is_object(from[key]))\n\t\t{\n\t\t\tif (!is_object(to[key]))\n\t\t\t{\n\t\t\t\tto[key] = {}\n\t\t\t}\n\n\t\t\textend(to[key], from[key])\n\t\t}\n\t\telse if (Array.isArray(from[key]))\n\t\t{\n\t\t\tif (!Array.isArray(to[key]))\n\t\t\t{\n\t\t\t\tto[key] = []\n\t\t\t}\n\n\t\t\tto[key] = to[key].concat(clone(from[key]))\n\t\t}\n\t\telse\n\t\t{\n\t\t\tto[key] = from[key]\n\t\t}\n\t}\n\n\treturn to\n}\n\nexport function merge()\n{\n\tconst parameters = Array.prototype.slice.call(arguments, 0)\n\tparameters.unshift({})\n\treturn extend.apply(this, parameters)\n}\n\nexport function clone(object)\n{\n\tif (is_object(object))\n\t{\n\t\treturn merge({}, object)\n\t}\n\telse if (Array.isArray(object))\n\t{\n\t\treturn object.map(x => clone(x))\n\t}\n\telse\n\t{\n\t\treturn object\n\t}\n}\n\n// creates camelCased aliases for all the keys of an object\nexport function convert_from_camel_case(object)\n{\n\tfor (let key of Object.keys(object))\n\t{\n\t\tif (/[A-Z]/.test(key))\n\t\t// if (key.indexOf('_') >= 0)\n\t\t{\n\t\t\t// const camel_cased_key = key.replace(/_(.)/g, function(match, group_1)\n\t\t\t// {\n\t\t\t// \treturn group_1.toUpperCase()\n\t\t\t// })\n\n\t\t\t// if (!exists(object[camel_cased_key]))\n\t\t\t// {\n\t\t\t// \tobject[camel_cased_key] = object[key]\n\t\t\t// \tdelete object[key]\n\t\t\t// }\n\n\t\t\tconst lo_dashed_key = key.replace(/([A-Z])/g, function(match, group_1)\n\t\t\t{\n\t\t\t\treturn '_' + group_1.toLowerCase()\n\t\t\t})\n\n\t\t\tif (!exists(object[lo_dashed_key]))\n\t\t\t{\n\t\t\t\tobject[lo_dashed_key] = object[key]\n\t\t\t\tdelete object[key]\n\t\t\t}\n\t\t}\n\t}\n\n\treturn object\n}\n\nfunction escape_regexp(string)\n{\n\tconst specials = new RegExp(\"[.*+?|()\\\\[\\\\]{}\\\\\\\\]\", 'g')\n\treturn string.replace(specials, \"\\\\$&\")\n}\n\nexport function replace_all(where, what, with_what)\n{\n\tconst regexp = new RegExp(escape_regexp(what), 'g')\n\treturn where.replace(regexp, with_what)\n}\n\nexport function starts_with(string, substring)\n{\n\treturn string.indexOf(substring) === 0\n}\n\nexport function ends_with(string, substring)\n{\n\tlet i = string.length\n\tlet j = substring.length\n\n\tif (j > i)\n\t{\n\t\treturn false\n\t}\n\n\twhile (j > 0)\n\t{\n\t\ti--\n\t\tj--\n\n\t\tif (string[i] !== substring[j])\n\t\t{\n\t\t\treturn false\n\t\t}\n\t}\n\n\treturn true\n\n\t// const index = string.lastIndexOf(substring)\n\t// return index >= 0 && index === string.length - substring.length\n}\n\nexport function is_empty(array)\n{\n\treturn array.length === 0\n}\n\nexport function not_empty(array)\n{\n\treturn array.length > 0\n}\n\n// repeat string N times\nexport function repeat(what, times)\n{\n\tlet result = ''\n\twhile (times > 0)\n\t{\n\t\tresult += what\n\t\ttimes--\n\t}\n\treturn result\n}\n\n// if the text is blank\nexport function is_blank(text)\n{\n\treturn !exists(text) || !text.replace(/\\s/g, '')\n}\n\n// zips two arrays\nexport function zip(a, b)\n{\n\treturn a.map(function(_, index) \n\t{\n\t\treturn [a[index], b[index]]\n\t})\n}\n\nexport function get_language_from_locale(locale)\n{\n\tconst dash_index = locale.indexOf('-')\n\tif (dash_index >= 0)\n\t{\n\t\treturn locale.substring(0, dash_index)\n\t}\n\treturn locale\n}"]}
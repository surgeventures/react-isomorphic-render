{"version":3,"sources":["../../source/static-site-generator/download.js"],"names":["download","url","resolve","reject","request","indexOf","response","setEncoding","response_body","on","chunk","end"],"mappings":";;;;;;;;;;kBAIwBA,Q;;AAJxB;;;;AACA;;;;;;AAEA;AACe,SAASA,QAAT,CAAkBC,GAAlB,EACf;AACC,QAAO,sBAAY,UAACC,OAAD,EAAUC,MAAV,EACnB;AACC,MAAMC,UAAU,CAACH,IAAII,OAAJ,CAAY,UAAZ,MAA4B,CAA5B,mCAAD,EAA+CD,OAA/C,CAAuDH,GAAvD,EAA4D,UAACK,QAAD,EAC5E;AACCA,YAASC,WAAT,CAAqB,MAArB;;AAEA,OAAIC,gBAAgB,EAApB;AACAF,YAASG,EAAT,CAAY,MAAZ,EAAoB;AAAA,WAASD,iBAAiBE,KAA1B;AAAA,IAApB;AACAJ,YAASG,EAAT,CAAY,KAAZ,EAAmB;AAAA,WAAMP,QAAQM,aAAR,CAAN;AAAA,IAAnB;AACA,GAPe,CAAhB;;AASAJ,UAAQK,EAAR,CAAW,OAAX,EAAoBN,MAApB;AACAC,UAAQO,GAAR;AACA,EAbM,CAAP;AAcA","file":"download.js","sourcesContent":["import http from 'http'\nimport https from 'https'\n\n// Downloads a URL resolving to its text contents\nexport default function download(url)\n{\n\treturn new Promise((resolve, reject) =>\n\t{\n\t\tconst request = (url.indexOf('https://') === 0 ? https : http).request(url, (response) =>\n\t\t{\n\t\t\tresponse.setEncoding('utf8')\n\n\t\t\tlet response_body = ''\n\t\t\tresponse.on('data', chunk => response_body += chunk)\n\t\t\tresponse.on('end', () => resolve(response_body))\n\t\t})\n\n\t\trequest.on('error', reject)\n\t\trequest.end()\n\t})\n}"]}